<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My LEGO Shop — Inventory</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <nav class="navbar bg-dark text-white p-3">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">My LEGO Shop</span>
        <div id="cart-summary" class="text-end">Cart: <span id="cart-count">0</span> items</div>
      </div>
    </nav>

    <main class="container py-4">
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label">Upload spreadsheet (CSV or Excel - xlsx)</label>
          <input id="file-input" type="file" class="form-control" accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel" />
          <div class="form-text">Columns recognized: id, title, description, price, quantity, imageUrl, condition</div>
        </div>
        <div class="col-md-6 text-end">
          <button id="download-template" class="btn btn-outline-secondary mt-4">Download CSV template</button>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-3 mb-2">
          <input id="search" class="form-control" placeholder="Search title or description">
        </div>
        <div class="col-md-2 mb-2">
          <select id="condition-filter" class="form-select">
            <option value="">All conditions</option>
            <option value="new">New</option>
            <option value="used">Used</option>
          </select>
        </div>
        <div class="col-md-2 mb-2">
          <select id="sort" class="form-select">
            <option value="title_asc">Sort: Title ↑</option>
            <option value="title_desc">Sort: Title ↓</option>
            <option value="price_asc">Sort: Price ↑</option>
            <option value="price_desc">Sort: Price ↓</option>
          </select>
        </div>
        <div class="col-md-3 mb-2 d-flex">
          <input id="price-min" type="number" step="0.01" class="form-control me-2" placeholder="Min $">
          <input id="price-max" type="number" step="0.01" class="form-control" placeholder="Max $">
        </div>
        <div class="col-md-2 text-end">
          <button id="view-cart" class="btn btn-secondary me-2">View Cart (<span id="cart-count-top">0</span>)</button>
          <button id="export-order" class="btn btn-primary">Export order CSV</button>
          <button id="clear-cart" class="btn btn-outline-danger">Clear cart</button>
        </div>
      </div>

      <div id="products" class="row g-3"></div>
      <nav aria-label="Product pagination" class="mt-3">
        <ul id="pagination" class="pagination justify-content-center"></ul>
      </nav>
    </main>

    <footer class="text-center py-4">Built with a client-side demo — no payments configured. See README for next steps.</footer>

    <!-- Cart offcanvas -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="cart-offcanvas" aria-labelledby="cart-offcanvas-label">
      <div class="offcanvas-header">
        <h5 id="cart-offcanvas-label">Your Cart</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <div id="cart-items"></div>
        <div class="mt-3 d-flex justify-content-between align-items-center">
          <div><strong>Total:</strong> $<span id="cart-total">0.00</span></div>
          <div>
            <button id="export-order-2" class="btn btn-primary btn-sm">Export CSV</button>
            <button id="checkout-dummy" class="btn btn-success btn-sm">Mark as Sold</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
